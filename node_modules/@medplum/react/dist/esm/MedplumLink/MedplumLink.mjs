import { Anchor } from '@mantine/core';
import React from 'react';
import { useNavigate } from 'react-router-dom';
import { killEvent } from '../utils/dom.mjs';

function MedplumLink(props) {
    const navigate = useNavigate();
    const { to, suffix, label, onClick, children, ...rest } = props;
    let href = getHref(to);
    if (suffix) {
        href += '/' + suffix;
    }
    return (React.createElement(Anchor, { href: href, "aria-label": label, onClick: (e) => {
            killEvent(e);
            if (onClick) {
                onClick();
            }
            else if (to) {
                navigate(href);
            }
        }, ...rest }, children));
}
function getHref(to) {
    if (to) {
        if (typeof to === 'string') {
            return getStringHref(to);
        }
        else if ('resourceType' in to) {
            return getResourceHref(to);
        }
        else if ('reference' in to) {
            return getReferenceHref(to);
        }
    }
    return '#';
}
function getStringHref(to) {
    if (to.startsWith('http://') || to.startsWith('https://') || to.startsWith('/')) {
        return to;
    }
    return '/' + to;
}
function getResourceHref(to) {
    return `/${to.resourceType}/${to.id}`;
}
function getReferenceHref(to) {
    return `/${to.reference}`;
}

export { MedplumLink };
//# sourceMappingURL=MedplumLink.mjs.map
