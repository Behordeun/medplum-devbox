{"version":3,"file":"ResourcePropertyInput.mjs","sources":["../../../src/ResourcePropertyInput/ResourcePropertyInput.tsx"],"sourcesContent":["import { Checkbox, Group, NativeSelect, Textarea, TextInput } from '@mantine/core';\nimport { buildTypeName, capitalize, PropertyType } from '@medplum/core';\nimport { ElementDefinition, ElementDefinitionType, OperationOutcome } from '@medplum/fhirtypes';\nimport React, { useState } from 'react';\nimport { AddressInput } from '../AddressInput/AddressInput';\nimport { AnnotationInput } from '../AnnotationInput/AnnotationInput';\nimport { AttachmentArrayInput } from '../AttachmentArrayInput/AttachmentArrayInput';\nimport { AttachmentInput } from '../AttachmentInput/AttachmentInput';\nimport { BackboneElementInput } from '../BackboneElementInput/BackboneElementInput';\nimport { CodeableConceptInput } from '../CodeableConceptInput/CodeableConceptInput';\nimport { CodeInput } from '../CodeInput/CodeInput';\nimport { CodingInput } from '../CodingInput/CodingInput';\nimport { ContactDetailInput } from '../ContactDetailInput/ContactDetailInput';\nimport { ContactPointInput } from '../ContactPointInput/ContactPointInput';\nimport { DateTimeInput } from '../DateTimeInput/DateTimeInput';\nimport { ExtensionInput } from '../ExtensionInput/ExtensionInput';\nimport { HumanNameInput } from '../HumanNameInput/HumanNameInput';\nimport { IdentifierInput } from '../IdentifierInput/IdentifierInput';\nimport { MoneyInput } from '../MoneyInput/MoneyInput';\nimport { PeriodInput } from '../PeriodInput/PeriodInput';\nimport { QuantityInput } from '../QuantityInput/QuantityInput';\nimport { RangeInput } from '../RangeInput/RangeInput';\nimport { RatioInput } from '../RatioInput/RatioInput';\nimport { ReferenceInput } from '../ReferenceInput/ReferenceInput';\nimport { ResourceArrayInput } from '../ResourceArrayInput/ResourceArrayInput';\nimport { TimingInput } from '../TimingInput/TimingInput';\nimport { getErrorsForInput } from '../utils/outcomes';\n\nexport interface ResourcePropertyInputProps {\n  property: ElementDefinition;\n  name: string;\n  defaultPropertyType?: PropertyType;\n  defaultValue?: any;\n  arrayElement?: boolean;\n  onChange?: (value: any, propName?: string) => void;\n  outcome?: OperationOutcome;\n}\n\nexport function ResourcePropertyInput(props: ResourcePropertyInputProps): JSX.Element {\n  const property = props.property;\n  const propertyType = props.defaultPropertyType ?? (property.type?.[0]?.code as PropertyType);\n  const name = props.name;\n  const value = props.defaultValue;\n\n  if (property.max === '*' && !props.arrayElement) {\n    if (propertyType === 'Attachment') {\n      return <AttachmentArrayInput name={name} defaultValue={value} onChange={props.onChange} />;\n    }\n    return <ResourceArrayInput property={property} name={name} defaultValue={value} onChange={props.onChange} />;\n  }\n\n  const propertyTypes = property.type as ElementDefinitionType[];\n  if (propertyTypes.length > 1) {\n    return <ElementDefinitionInputSelector elementDefinitionTypes={propertyTypes} {...props} />;\n  } else {\n    return <ElementDefinitionTypeInput elementDefinitionType={propertyTypes[0]} {...props} />;\n  }\n}\n\nexport interface ElementDefinitionSelectorProps extends ResourcePropertyInputProps {\n  elementDefinitionTypes: ElementDefinitionType[];\n}\n\nexport function ElementDefinitionInputSelector(props: ElementDefinitionSelectorProps): JSX.Element {\n  const propertyTypes = props.elementDefinitionTypes;\n  let initialPropertyType: ElementDefinitionType | undefined = undefined;\n  if (props.defaultPropertyType) {\n    initialPropertyType = propertyTypes.find((t) => t.code === props.defaultPropertyType) as ElementDefinitionType;\n  }\n  if (!initialPropertyType) {\n    initialPropertyType = propertyTypes[0];\n  }\n  const [selectedType, setSelectedType] = useState(initialPropertyType);\n  return (\n    <Group spacing=\"xs\" grow noWrap>\n      <NativeSelect\n        style={{ width: '200px' }}\n        defaultValue={selectedType?.code}\n        onChange={(e) => {\n          setSelectedType(\n            propertyTypes.find(\n              (type: ElementDefinitionType) => type.code === e.currentTarget.value\n            ) as ElementDefinitionType\n          );\n        }}\n        data={propertyTypes.map((type: ElementDefinitionType) => ({\n          value: type.code as string,\n          label: type.code as string,\n        }))}\n      />\n      <ElementDefinitionTypeInput\n        {...props}\n        elementDefinitionType={selectedType}\n        onChange={(newValue: any) => {\n          if (props.onChange) {\n            props.onChange(newValue, props.name.replace('[x]', capitalize(selectedType.code as string)));\n          }\n        }}\n      />\n    </Group>\n  );\n}\n\nexport interface ElementDefinitionTypeInputProps extends ResourcePropertyInputProps {\n  elementDefinitionType: ElementDefinitionType;\n}\n\nexport function ElementDefinitionTypeInput(props: ElementDefinitionTypeInputProps): JSX.Element {\n  const property = props.property;\n  const propertyType = props.elementDefinitionType.code as PropertyType;\n  const name = props.name;\n  const value = props.defaultValue;\n\n  switch (propertyType) {\n    // 2.24.0.1 Primitive Types\n    // https://www.hl7.org/fhir/datatypes.html#primitive\n\n    case PropertyType.SystemString:\n    case PropertyType.canonical:\n    case PropertyType.string:\n    case PropertyType.time:\n    case PropertyType.uri:\n    case PropertyType.url:\n      return (\n        <TextInput\n          id={name}\n          name={name}\n          data-testid={name}\n          defaultValue={value}\n          onChange={(e) => {\n            if (props.onChange) {\n              props.onChange(e.currentTarget.value);\n            }\n          }}\n          error={getErrorsForInput(props.outcome, name)}\n        />\n      );\n    case PropertyType.date:\n      return (\n        <TextInput\n          type=\"date\"\n          id={name}\n          name={name}\n          data-testid={name}\n          defaultValue={value}\n          onChange={(e) => {\n            if (props.onChange) {\n              props.onChange(e.currentTarget.value);\n            }\n          }}\n          error={getErrorsForInput(props.outcome, name)}\n        />\n      );\n    case PropertyType.dateTime:\n    case PropertyType.instant:\n      return <DateTimeInput name={name} defaultValue={value} onChange={props.onChange} outcome={props.outcome} />;\n    case PropertyType.decimal:\n    case PropertyType.integer:\n    case PropertyType.positiveInt:\n    case PropertyType.unsignedInt:\n      return (\n        <TextInput\n          type=\"number\"\n          step={propertyType === PropertyType.decimal ? 'any' : '1'}\n          id={name}\n          name={name}\n          data-testid={name}\n          defaultValue={value}\n          onChange={(e) => {\n            if (props.onChange) {\n              props.onChange(e.currentTarget.valueAsNumber);\n            }\n          }}\n        />\n      );\n    case PropertyType.code:\n      return <CodeInput property={property} name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.boolean:\n      return (\n        <Checkbox\n          id={name}\n          name={name}\n          data-testid={name}\n          defaultChecked={!!value}\n          onChange={(e) => {\n            if (props.onChange) {\n              props.onChange(e.currentTarget.checked);\n            }\n          }}\n        />\n      );\n    case PropertyType.markdown:\n      return (\n        <Textarea\n          id={name}\n          name={name}\n          data-testid={name}\n          defaultValue={value}\n          onChange={(e) => {\n            if (props.onChange) {\n              props.onChange(e.currentTarget.value);\n            }\n          }}\n        />\n      );\n\n    // 2.24.0.2 Complex Types\n    // https://www.hl7.org/fhir/datatypes.html#complex\n\n    case PropertyType.Address:\n      return <AddressInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.Annotation:\n      return <AnnotationInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.Attachment:\n      return <AttachmentInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.CodeableConcept:\n      return <CodeableConceptInput property={property} name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.Coding:\n      return <CodingInput property={property} name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.ContactDetail:\n      return <ContactDetailInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.ContactPoint:\n      return <ContactPointInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.Extension:\n      return <ExtensionInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.HumanName:\n      return <HumanNameInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.Identifier:\n      return <IdentifierInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.Money:\n      return <MoneyInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.Period:\n      return <PeriodInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.Duration:\n    case PropertyType.Quantity:\n      return <QuantityInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.Range:\n      return <RangeInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.Ratio:\n      return <RatioInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.Reference:\n      return (\n        <ReferenceInput\n          name={name}\n          defaultValue={value}\n          targetTypes={getTargetTypes(property)}\n          onChange={props.onChange}\n        />\n      );\n    case PropertyType.Timing:\n      return <TimingInput name={name} defaultValue={value} onChange={props.onChange} />;\n    case PropertyType.Dosage:\n    case PropertyType.UsageContext:\n      return (\n        <BackboneElementInput\n          typeName={propertyType}\n          defaultValue={value}\n          onChange={props.onChange}\n          outcome={props.outcome}\n        />\n      );\n    default:\n      return (\n        <BackboneElementInput\n          typeName={buildTypeName(property.path?.split('.') as string[])}\n          defaultValue={value}\n          onChange={props.onChange}\n          outcome={props.outcome}\n        />\n      );\n  }\n}\n\nfunction getTargetTypes(property?: ElementDefinition): string[] | undefined {\n  return property?.type?.[0]?.targetProfile?.map((p) => p.split('/').pop() as string);\n}\n"],"names":[],"mappings":"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"}