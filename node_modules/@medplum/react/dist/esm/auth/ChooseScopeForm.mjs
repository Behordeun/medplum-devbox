import { Stack, Center, Title, Checkbox, Group, Button } from '@mantine/core';
import React from 'react';
import { Form } from '../Form/Form.mjs';
import { Logo } from '../Logo/Logo.mjs';
import { useMedplum } from '../MedplumProvider/MedplumProvider.mjs';

function ChooseScopeForm(props) {
    const medplum = useMedplum();
    return (React.createElement(Form, { style: { maxWidth: 400 }, onSubmit: (formData) => {
            medplum
                .post('auth/scope', {
                login: props.login,
                scope: Object.keys(formData).join(' '),
            })
                .then(props.handleAuthResponse)
                .catch(console.log);
        } },
        React.createElement(Stack, null,
            React.createElement(Center, { sx: { flexDirection: 'column' } },
                React.createElement(Logo, { size: 32 }),
                React.createElement(Title, null, "Choose scope")),
            React.createElement(Stack, null, (props.scope || 'openid').split(' ').map((scopeName) => (React.createElement(Checkbox, { key: scopeName, id: scopeName, name: scopeName, label: scopeName, defaultChecked: true })))),
            React.createElement(Group, { position: "right", mt: "xl" },
                React.createElement(Button, { type: "submit" }, "Set scope")))));
}

export { ChooseScopeForm };
//# sourceMappingURL=ChooseScopeForm.mjs.map
