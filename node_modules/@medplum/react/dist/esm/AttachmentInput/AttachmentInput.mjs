import { Button } from '@mantine/core';
import React, { useState } from 'react';
import { AttachmentButton } from '../AttachmentButton/AttachmentButton.mjs';
import { AttachmentDisplay } from '../AttachmentDisplay/AttachmentDisplay.mjs';
import { killEvent } from '../utils/dom.mjs';

function AttachmentInput(props) {
    const [value, setValue] = useState(props.defaultValue);
    function setValueWrapper(newValue) {
        setValue(newValue);
        if (props.onChange) {
            props.onChange(newValue);
        }
    }
    if (value) {
        return (React.createElement(React.Fragment, null,
            React.createElement(AttachmentDisplay, { value: value, maxWidth: 200 }),
            React.createElement(Button, { onClick: (e) => {
                    killEvent(e);
                    setValueWrapper(undefined);
                } }, "Remove")));
    }
    return (React.createElement(AttachmentButton, { onUpload: setValueWrapper }, (props) => React.createElement(Button, { ...props }, "Upload...")));
}

export { AttachmentInput };
//# sourceMappingURL=AttachmentInput.mjs.map
